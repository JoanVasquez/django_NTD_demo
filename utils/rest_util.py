# âœ… rest_util.py - Utility helpers for consistent DRF API responses

from rest_framework import status
from rest_framework.response import Response

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# âœ… Success response helper
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


def success_response(data=None, message=None, status_code=status.HTTP_200_OK):
    """
    âœ… Returns a DRF Response with:
    â€¢ status: "success"
    â€¢ data: payload (optional)
    â€¢ message: optional message
    â€¢ HTTP status code (default 200)
    """
    payload = {"status": "success", "data": data}
    if message:
        payload["message"] = message
    return Response(payload, status=status_code)


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ðŸš¨ Error response helper
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


def error_response(message=None, errors=None, status_code=status.HTTP_400_BAD_REQUEST):
    """
    ðŸš¨ Returns a DRF Response with:
    â€¢ status: "error"
    â€¢ message: optional error message
    â€¢ errors: optional dictionary of field errors
    â€¢ HTTP status code (default 400)
    """
    payload = {"status": "error"}
    if message:
        payload["message"] = message
    if errors:
        payload["errors"] = errors
    return Response(payload, status=status_code)
